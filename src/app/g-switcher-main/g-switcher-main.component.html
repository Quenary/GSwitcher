<div class="GSwitcherMainClass">
    <div class="gswitcher-main-header">
        <div class="gswitcher-main-header-title">
            {{'MAIN.TITLE' | translate}}
        </div>
    </div>
    <div class="gswitcher-main-body">
        <div class="gswitcher-main-body-left">

            <mat-form-field appearance="fill"
                            class="gswitcher-main-body-item-field">
                <mat-label>{{'MAIN.FIELDS.DISPLAYS' | translate}}</mat-label>
                <mat-select [formControl]="displaysControl"
                            multiple>
                    <mat-option *ngFor="let item of displaysList"
                                [value]="item">{{item}}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <div class="gswitcher-main-body-item">
                <div class="gswitcher-main-body-item-label">
                    {{'MAIN.FIELDS.PROCESS.ADD' | translate}}
                </div>
                <div class="gswitcher-main-body-item-field flex">
                    <button mat-button
                            [matMenuTriggerFor]="menu">
                        {{'MAIN.FIELDS.PROCESS.FROM_LIST' | translate}}
                    </button>
                    <button mat-button
                            (click)="fileInput.click()">
                        {{'MAIN.FIELDS.PROCESS.FROM_FILE' | translate}}
                        <input hidden
                               type="file"
                               id="file"
                               accept=".exe"
                               #fileInput
                               (change)="setApplicationFromFile($event)">
                    </button>
                </div>
            </div>

            <mat-chip-listbox [formControl]="$any(form.controls.appName)">
                <mat-chip-option *ngFor="let item of applications$ | async"
                                 [selected]="item === form.controls.appName.value"
                                 [value]="item"
                                 (removed)="removeApplication(item)">
                    {{item}}
                    <button matChipRemove
                            [attr.aria-label]="'remove ' + item">
                        <mat-icon>cancel</mat-icon>
                    </button>
                </mat-chip-option>
            </mat-chip-listbox>

        </div>

        <mat-divider [vertical]="true"
                     class="gswitcher-main-body-divider">
        </mat-divider>

        <div class="gswitcher-main-body-right">

            <div class="gswitcher-main-body-item">
                <div class="gswitcher-main-body-item-label">
                    {{'MAIN.FIELDS.BRIGHTNESS' | translate}}
                </div>
                <mat-slider class="gswitcher-main-body-item-field"
                            min="0"
                            max="1"
                            step="0.01"
                            discrete>
                    <input matSliderThumb
                           [formControl]="$any(form.controls.brightness)">
                </mat-slider>
            </div>

            <div class="gswitcher-main-body-item">
                <div class="gswitcher-main-body-item-label">
                    {{'MAIN.FIELDS.CONTRAST' | translate}}
                </div>
                <mat-slider class="gswitcher-main-body-item-field"
                            min="0"
                            max="1"
                            step="0.01"
                            discrete>
                    <input matSliderThumb
                           [formControl]="$any(form.controls.contrast)">
                </mat-slider>
            </div>

            <div class="gswitcher-main-body-item">
                <div class="gswitcher-main-body-item-label">
                    {{'MAIN.FIELDS.GAMMA' | translate}}
                </div>
                <mat-slider class="gswitcher-main-body-item-field"
                            min="0.4"
                            max="2.8"
                            step="0.01"
                            discrete>
                    <input matSliderThumb
                           [formControl]="$any(form.controls.gamma)">
                </mat-slider>
            </div>
        </div>
    </div>

    <mat-progress-bar [value]="saveConfigIntervalProgress">
    </mat-progress-bar>
</div>

<mat-menu #menu>
    <button mat-menu-item
            *ngFor="let item of processList"
            (click)="changeValue(item,'appName')">
        {{item}}
    </button>
</mat-menu>